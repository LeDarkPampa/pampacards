<h2>Votre collection</h2>

<div class="filtres">
  <div>
    <p-multiSelect [options]="clans" [(ngModel)]="selectedClans" defaultLabel="Filtrer par clan" (onChange)="applyFilters()">
    </p-multiSelect>
  </div>
  <div>
    <p-multiSelect [options]="types" [(ngModel)]="selectedTypes" defaultLabel="Filtrer par type" (onChange)="applyFilters()">
    </p-multiSelect>
  </div>
  <div>
    <p-multiSelect [options]="raretes" [(ngModel)]="selectedRaretes" defaultLabel="Filtrer par rareté" (onChange)="applyFilters()">
    </p-multiSelect>
  </div>
  <button pButton type="button" label="Réinitialiser" (click)="resetFilters()" class="p-button-secondary"></button>
  <button pButton type="button" label="Trier par nom" (click)="sort('nom')" class="p-button-secondary"></button>
  <button pButton type="button" label="Trier par rareté" (click)="sort('rarete')" class="p-button-secondary"></button>
</div>

<ul class="cartes">
  <li *ngFor="let carte of cartesFiltrees">
    <div *ngIf="isInCollection(carte)">
      <img src="assets/cartes/{{carte.image_path}}" alt="{{carte.nom}}"/>
      <div *ngIf="carte.image_path == null">Pas d'image pour cette carte {{carte.nom}}.</div>
      <div class="numberOfElements">(x{{countNumberInUserCollection(carte)}})</div>
    </div>
    <div *ngIf="!isInCollection(carte)" class="non-possede">
      <img src="assets/cartes/{{carte.image_path}}" alt="{{carte.nom}}"/>
      <div *ngIf="carte.image_path == null">Pas d'image pour cette carte {{carte.nom}}.</div>
    </div>
  </li>
</ul>
