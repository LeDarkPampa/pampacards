<div class="collection-container">
  <div class="background">
    <div class="filtres">
      <div>
        <p-multiSelect [options]="clans" [(ngModel)]="selectedClans" defaultLabel="Filtrer par clan" (onChange)="applyFilters()">
        </p-multiSelect>
      </div>
      <div>
        <p-multiSelect [options]="types" [(ngModel)]="selectedTypes" defaultLabel="Filtrer par type" (onChange)="applyFilters()">
        </p-multiSelect>
      </div>
      <div>
        <p-multiSelect [options]="raretes" [(ngModel)]="selectedRaretes" defaultLabel="Filtrer par rareté" (onChange)="applyFilters()">
        </p-multiSelect>
      </div>
      <app-pampa-button [texte]="'Réinitialiser'" [couleur]="'noir'" [taille]="'trespetit'" (clickBouton)="resetFilters()"></app-pampa-button>
      <app-pampa-button [texte]="'Trier par nom'" [couleur]="'bleu'" [taille]="'trespetit'" (clickBouton)="sort('nom')"></app-pampa-button>
      <app-pampa-button [texte]="'Trier par rareté'" [couleur]="'bleu'" [taille]="'trespetit'" (clickBouton)="sort('rarete')"></app-pampa-button>
    </div>

    <ul class="cartes">
      <li *ngFor="let carte of cartesFiltrees">
        <div *ngIf="isInCollection(carte)">
          <div class="cadre-carte">
            <app-carte-terrain [carte]="carte"></app-carte-terrain>
            <div *ngIf="carte.image_path == null">Pas d'image pour cette carte {{carte.nom}}.</div>
            <div class="numberOfElements">(x{{countNumberInUserCollection(carte)}})</div>
          </div>
        </div>
        <div class="cadre-carte">
          <div *ngIf="!isInCollection(carte)" class="non-possede">
            <app-carte-terrain [carte]="carte" [ngClass]="{'grise-image': true}"></app-carte-terrain>
            <div *ngIf="carte.image_path == null">Pas d'image pour cette carte {{carte.nom}}.</div>
          </div>
        </div>
      </li>
    </ul>
  </div>
</div>
